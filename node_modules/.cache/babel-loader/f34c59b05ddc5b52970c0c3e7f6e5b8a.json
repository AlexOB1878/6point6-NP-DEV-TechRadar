{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useMemo, useState } from \"react\";\nimport { createAnimation, createAnimationRunner } from \"../../animation\";\nexport const useAnimations = _ref => {\n  _s();\n  let {\n    itemsInRing,\n    leaving,\n    onLeave\n  } = _ref;\n  const animationsIn = useMemo(() => ({\n    background: createAnimation({\n      transform: \"translateX(calc((100vw - 1200px) / 2 + 800px))\",\n      transition: \"transform 450ms cubic-bezier(0.24, 1.12, 0.71, 0.98)\"\n    }, {\n      transition: \"transform 450ms cubic-bezier(0.24, 1.12, 0.71, 0.98)\",\n      transform: \"translateX(0)\"\n    }, 0),\n    navHeader: createAnimation({\n      transform: \"translateX(-40px)\",\n      opacity: \"0\"\n    }, {\n      transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n      transform: \"translateX(0px)\",\n      opacity: \"1\"\n    }, 300),\n    text: createAnimation({\n      transform: \"translateY(-20px)\",\n      opacity: \"0\"\n    }, {\n      transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n      transform: \"translateY(0px)\",\n      opacity: \"1\"\n    }, 600),\n    items: itemsInRing.map((item, i) => createAnimation({\n      transform: \"translateX(-40px)\",\n      opacity: \"0\"\n    }, {\n      transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n      transform: \"translateX(0px)\",\n      opacity: \"1\"\n    }, 400 + 100 * i)),\n    footer: createAnimation({\n      transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n      transform: \"translateX(-40px)\",\n      opacity: \"0\"\n    }, {\n      transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n      transform: \"translateX(0px)\",\n      opacity: \"1\"\n    }, 600 + itemsInRing.length * 100)\n  }), [itemsInRing]);\n  const animationsOut = useMemo(() => ({\n    background: createAnimation(animationsIn.background.stateB, animationsIn.background.stateA, 300 + itemsInRing.length * 50),\n    navHeader: createAnimation(animationsIn.navHeader.stateB, {\n      transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n      transform: \"translateX(40px)\",\n      opacity: \"0\"\n    }, 0),\n    text: createAnimation(animationsIn.text.stateB, {\n      transform: \"translateY(20px)\",\n      transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n      opacity: \"0\"\n    }, 0),\n    items: itemsInRing.map((item, i) => createAnimation(animationsIn.items[i].stateB, {\n      transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n      transform: \"translateX(40px)\",\n      opacity: \"0\"\n    }, 100 + 50 * i)),\n    footer: createAnimation(animationsIn.text.stateB, {\n      transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n      transform: \"translateX(40px)\",\n      opacity: \"0\"\n    }, 200 + itemsInRing.length * 50)\n  }), [itemsInRing, animationsIn]);\n  const [animations, setAnimations] = useState(() => {\n    return leaving ? createAnimationRunner(animationsIn).getState() : {};\n  });\n  const [stateLeaving, setStateLeaving] = useState(leaving);\n  useEffect(() => {\n    if (!stateLeaving && leaving) {\n      let animationRunner = createAnimationRunner(animationsOut, () => setAnimations(animationRunner.getState));\n      animationRunner.run();\n      animationRunner.awaitAnimationComplete(onLeave);\n      setStateLeaving(true);\n    }\n    if (stateLeaving && !leaving) {\n      let animationRunner = createAnimationRunner(animationsIn, () => setAnimations(animationRunner.getState));\n      animationRunner.run();\n      setStateLeaving(false);\n    }\n  }, [stateLeaving, leaving, animationsIn, animationsOut, onLeave]);\n  const getAnimationStates = name => animations[name];\n  const getAnimationState = name => {\n    const animations = getAnimationStates(name);\n    if (animations === undefined || animations.length === 0) {\n      return undefined;\n    }\n    return animations[0];\n  };\n  return {\n    getAnimationStates,\n    getAnimationState\n  };\n};\n_s(useAnimations, \"OnwO77GGMF5vuiLN3YTlfbRf7gc=\");","map":{"version":3,"names":["useEffect","useMemo","useState","createAnimation","createAnimationRunner","useAnimations","itemsInRing","leaving","onLeave","animationsIn","background","transform","transition","navHeader","opacity","text","items","map","item","i","footer","length","animationsOut","stateB","stateA","animations","setAnimations","getState","stateLeaving","setStateLeaving","animationRunner","run","awaitAnimationComplete","getAnimationStates","name","getAnimationState","undefined"],"sources":["/Users/zeus/Desktop/Projects/6point6-NP-DEV/aoe_technology_radar/src/components/PageItem/useAnimations.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\n\nimport {\n  Animation,\n  AnimationStates,\n  createAnimation,\n  createAnimationRunner,\n} from \"../../animation\";\nimport { Item } from \"../../model\";\n\ninterface Props {\n  itemsInRing: Item[];\n  leaving: boolean;\n  onLeave: () => void;\n}\n\nexport const useAnimations = ({ itemsInRing, leaving, onLeave }: Props) => {\n  type AnimationConfig = {\n    background: Animation;\n    navHeader: Animation;\n    text: Animation;\n    items: Animation[];\n    footer: Animation;\n  };\n\n  type AnimationNames = keyof AnimationConfig;\n\n  const animationsIn: AnimationConfig = useMemo(\n    () => ({\n      background: createAnimation(\n        {\n          transform: \"translateX(calc((100vw - 1200px) / 2 + 800px))\",\n          transition: \"transform 450ms cubic-bezier(0.24, 1.12, 0.71, 0.98)\",\n        },\n        {\n          transition: \"transform 450ms cubic-bezier(0.24, 1.12, 0.71, 0.98)\",\n          transform: \"translateX(0)\",\n        },\n        0\n      ),\n      navHeader: createAnimation(\n        {\n          transform: \"translateX(-40px)\",\n          opacity: \"0\",\n        },\n        {\n          transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n          transform: \"translateX(0px)\",\n          opacity: \"1\",\n        },\n        300\n      ),\n      text: createAnimation(\n        {\n          transform: \"translateY(-20px)\",\n          opacity: \"0\",\n        },\n        {\n          transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n          transform: \"translateY(0px)\",\n          opacity: \"1\",\n        },\n        600\n      ),\n      items: itemsInRing.map((item, i) =>\n        createAnimation(\n          {\n            transform: \"translateX(-40px)\",\n            opacity: \"0\",\n          },\n          {\n            transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n            transform: \"translateX(0px)\",\n            opacity: \"1\",\n          },\n          400 + 100 * i\n        )\n      ),\n      footer: createAnimation(\n        {\n          transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n          transform: \"translateX(-40px)\",\n          opacity: \"0\",\n        },\n        {\n          transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n          transform: \"translateX(0px)\",\n          opacity: \"1\",\n        },\n        600 + itemsInRing.length * 100\n      ),\n    }),\n    [itemsInRing]\n  );\n\n  const animationsOut: AnimationConfig = useMemo(\n    () => ({\n      background: createAnimation(\n        animationsIn.background.stateB,\n        animationsIn.background.stateA,\n        300 + itemsInRing.length * 50\n      ),\n      navHeader: createAnimation(\n        animationsIn.navHeader.stateB,\n        {\n          transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n          transform: \"translateX(40px)\",\n          opacity: \"0\",\n        },\n        0\n      ),\n      text: createAnimation(\n        animationsIn.text.stateB,\n        {\n          transform: \"translateY(20px)\",\n          transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n          opacity: \"0\",\n        },\n        0\n      ),\n      items: itemsInRing.map((item, i) =>\n        createAnimation(\n          animationsIn.items[i].stateB,\n          {\n            transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n            transform: \"translateX(40px)\",\n            opacity: \"0\",\n          },\n          100 + 50 * i\n        )\n      ),\n      footer: createAnimation(\n        animationsIn.text.stateB,\n        {\n          transition: \"opacity 150ms ease-out, transform 300ms ease-out\",\n          transform: \"translateX(40px)\",\n          opacity: \"0\",\n        },\n        200 + itemsInRing.length * 50\n      ),\n    }),\n    [itemsInRing, animationsIn]\n  );\n\n  const [animations, setAnimations] = useState<AnimationStates>(() => {\n    return leaving ? createAnimationRunner(animationsIn).getState() : {};\n  });\n\n  const [stateLeaving, setStateLeaving] = useState(leaving);\n\n  useEffect(() => {\n    if (!stateLeaving && leaving) {\n      let animationRunner = createAnimationRunner(animationsOut, () =>\n        setAnimations(animationRunner.getState)\n      );\n      animationRunner.run();\n      animationRunner.awaitAnimationComplete(onLeave);\n      setStateLeaving(true);\n    }\n    if (stateLeaving && !leaving) {\n      let animationRunner = createAnimationRunner(animationsIn, () =>\n        setAnimations(animationRunner.getState)\n      );\n      animationRunner.run();\n      setStateLeaving(false);\n    }\n  }, [stateLeaving, leaving, animationsIn, animationsOut, onLeave]);\n\n  const getAnimationStates = (name: AnimationNames) => animations[name];\n\n  const getAnimationState = (name: AnimationNames) => {\n    const animations = getAnimationStates(name);\n    if (animations === undefined || animations.length === 0) {\n      return undefined;\n    }\n    return animations[0];\n  };\n\n  return {\n    getAnimationStates,\n    getAnimationState,\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}