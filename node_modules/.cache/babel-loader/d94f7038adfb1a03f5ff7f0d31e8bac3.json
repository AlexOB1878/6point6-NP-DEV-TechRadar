{"ast":null,"code":"var _jsxFileName = \"/Users/zeus/Desktop/Projects/6point6-NP-DEV/aoe_technology_radar/src/components/Header/Header.tsx\",\n  _s = $RefreshSig$();\nimport classNames from \"classnames\";\nimport qs from \"query-string\";\nimport React, { useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { radarNameShort } from \"../../config\";\nimport { useMessages } from \"../../context/MessagesContext\";\nimport { useSearchParamState } from \"../../hooks/use-search-param-state\";\nimport Branding from \"../Branding/Branding\";\nimport Link from \"../Link/Link\";\nimport LogoLink from \"../LogoLink/LogoLink\";\nimport Search from \"../Search/Search\";\nimport TagsModal from \"../TagsModal/TagsModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Header(_ref) {\n  _s();\n  let {\n    pageName,\n    tags\n  } = _ref;\n  const [searchOpen, setSearchOpen] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const {\n    searchLabel,\n    pageHelp,\n    pageOverview\n  } = useMessages();\n  const navigate = useNavigate();\n  const searchRef = useRef(null);\n  const [searchParamState, setSearchParamsState] = useSearchParamState();\n  const openSearch = () => {\n    setSearchOpen(true);\n  };\n  const closeSearch = () => {\n    setSearchOpen(false);\n  };\n  const handleSearchChange = value => {\n    setSearch(value);\n  };\n  const handleSearchSubmit = () => {\n    let {\n      tags\n    } = searchParamState;\n    tags = Array.isArray(tags) ? tags.join(\"|\") : tags;\n    navigate({\n      pathname: \"/overview.html\",\n      search: qs.stringify({\n        search: search,\n        tags\n      })\n    });\n    setSearchOpen(false);\n    setSearch(\"\");\n  };\n  const handleOpenClick = e => {\n    // e.preventDefault(); // todo used to be a link\n    openSearch();\n    setTimeout(() => {\n      var _searchRef$current;\n      searchRef === null || searchRef === void 0 ? void 0 : (_searchRef$current = searchRef.current) === null || _searchRef$current === void 0 ? void 0 : _searchRef$current.focus();\n    }, 0);\n  };\n  const handleTagChange = tag => {\n    const {\n      search,\n      tags = []\n    } = searchParamState;\n    let newTags;\n\n    // Toggle changed item in tags searchParam depends on type Array or String\n    if (Array.isArray(tags)) {\n      newTags = tags.includes(tag) ? tags.filter(item => item !== tag) : [...tags, tag];\n    } else {\n      newTags = tags !== tag ? [tags, tag] : [];\n    }\n    setSearchParamsState({\n      tags: newTags,\n      search\n    });\n  };\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const toggleModal = function () {\n    setModalIsOpen(!modalIsOpen);\n  };\n  const smallLogo = pageName !== \"index\";\n  return /*#__PURE__*/_jsxDEV(Branding, {\n    logoContent: /*#__PURE__*/_jsxDEV(LogoLink, {\n      small: smallLogo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 28\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav\",\n      children: [pageHelp && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav__item\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          pageName: \"help-and-about-tech-radar\",\n          className: \"icon-link\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon icon--question icon-link__icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), pageHelp.headlinePrefix || \"How to use\", \" \", radarNameShort, \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), Boolean(tags.length) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav__item\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"icon-link\",\n          onClick: toggleModal,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon icon--filter icon-link__icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), \"Filter\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav__item\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          pageName: \"overview\",\n          className: \"icon-link\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon icon--overview icon-link__icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), (pageOverview === null || pageOverview === void 0 ? void 0 : pageOverview.title) || \"Technologies Overview\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav__item\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"icon-link\",\n          onClick: handleOpenClick,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon icon--search icon-link__icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), searchLabel || \"Search\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classNames(\"nav__search\", {\n            \"is-open\": searchOpen\n          }),\n          children: /*#__PURE__*/_jsxDEV(Search, {\n            value: search,\n            onClose: closeSearch,\n            onSubmit: handleSearchSubmit,\n            onChange: handleSearchChange,\n            open: searchOpen,\n            ref: searchRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), Boolean(tags.length) && /*#__PURE__*/_jsxDEV(TagsModal, {\n          tags: tags,\n          isOpen: modalIsOpen,\n          closeModal: toggleModal,\n          handleTagChange: handleTagChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_s(Header, \"F6l5LF4JI+QMLNzymAt375ZuC7I=\", false, function () {\n  return [useMessages, useNavigate, useSearchParamState];\n});\n_c = Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["classNames","qs","React","useRef","useState","useNavigate","radarNameShort","useMessages","useSearchParamState","Branding","Link","LogoLink","Search","TagsModal","Header","pageName","tags","searchOpen","setSearchOpen","search","setSearch","searchLabel","pageHelp","pageOverview","navigate","searchRef","searchParamState","setSearchParamsState","openSearch","closeSearch","handleSearchChange","value","handleSearchSubmit","Array","isArray","join","pathname","stringify","handleOpenClick","e","setTimeout","current","focus","handleTagChange","tag","newTags","includes","filter","item","modalIsOpen","setModalIsOpen","toggleModal","smallLogo","headlinePrefix","Boolean","length","title"],"sources":["/Users/zeus/Desktop/Projects/6point6-NP-DEV/aoe_technology_radar/src/components/Header/Header.tsx"],"sourcesContent":["import classNames from \"classnames\";\nimport qs from \"query-string\";\nimport React, { useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { radarNameShort } from \"../../config\";\nimport { useMessages } from \"../../context/MessagesContext\";\nimport { useSearchParamState } from \"../../hooks/use-search-param-state\";\nimport { Tag } from \"../../model\";\nimport Branding from \"../Branding/Branding\";\nimport Link from \"../Link/Link\";\nimport LogoLink from \"../LogoLink/LogoLink\";\nimport Search from \"../Search/Search\";\nimport TagsModal from \"../TagsModal/TagsModal\";\n\nexport default function Header({\n  pageName,\n  tags,\n}: {\n  pageName: string;\n  tags: Tag[];\n}) {\n  const [searchOpen, setSearchOpen] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const { searchLabel, pageHelp, pageOverview } = useMessages();\n  const navigate = useNavigate();\n  const searchRef = useRef<HTMLInputElement>(null);\n  const [searchParamState, setSearchParamsState] = useSearchParamState();\n\n  const openSearch = () => {\n    setSearchOpen(true);\n  };\n\n  const closeSearch = () => {\n    setSearchOpen(false);\n  };\n\n  const handleSearchChange = (value: string) => {\n    setSearch(value);\n  };\n\n  const handleSearchSubmit = () => {\n    let { tags } = searchParamState;\n    tags = Array.isArray(tags) ? tags.join(\"|\") : tags;\n\n    navigate({\n      pathname: \"/overview.html\",\n      search: qs.stringify({ search: search, tags }),\n    });\n\n    setSearchOpen(false);\n    setSearch(\"\");\n  };\n\n  const handleOpenClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n    // e.preventDefault(); // todo used to be a link\n    openSearch();\n    setTimeout(() => {\n      searchRef?.current?.focus();\n    }, 0);\n  };\n\n  const handleTagChange = (tag: Tag) => {\n    const { search, tags = [] } = searchParamState;\n    let newTags;\n\n    // Toggle changed item in tags searchParam depends on type Array or String\n    if (Array.isArray(tags)) {\n      newTags = tags.includes(tag)\n        ? tags.filter((item: string) => item !== tag)\n        : [...tags, tag];\n    } else {\n      newTags = tags !== tag ? [tags, tag] : [];\n    }\n\n    setSearchParamsState({\n      tags: newTags,\n      search,\n    });\n  };\n\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n\n  const toggleModal = function () {\n    setModalIsOpen(!modalIsOpen);\n  };\n\n  const smallLogo = pageName !== \"index\";\n\n  return (\n    <Branding logoContent={<LogoLink small={smallLogo} />}>\n      <div className=\"nav\">\n        {pageHelp && (\n          <div className=\"nav__item\">\n            <Link pageName=\"help-and-about-tech-radar\" className=\"icon-link\">\n              <span className=\"icon icon--question icon-link__icon\" />\n              {pageHelp.headlinePrefix || \"How to use\"} {radarNameShort}?\n            </Link>\n          </div>\n        )}\n        {Boolean(tags.length) && (\n          <div className=\"nav__item\">\n            <button className=\"icon-link\" onClick={toggleModal}>\n              <span className=\"icon icon--filter icon-link__icon\" />\n              Filter\n            </button>\n          </div>\n        )}\n        <div className=\"nav__item\">\n          <Link pageName=\"overview\" className=\"icon-link\">\n            <span className=\"icon icon--overview icon-link__icon\" />\n            {pageOverview?.title || \"Technologies Overview\"}\n          </Link>\n        </div>\n        <div className=\"nav__item\">\n          <button className=\"icon-link\" onClick={handleOpenClick}>\n            <span className=\"icon icon--search icon-link__icon\" />\n            {searchLabel || \"Search\"}\n          </button>\n          <div className={classNames(\"nav__search\", { \"is-open\": searchOpen })}>\n            <Search\n              value={search}\n              onClose={closeSearch}\n              onSubmit={handleSearchSubmit}\n              onChange={handleSearchChange}\n              open={searchOpen}\n              ref={searchRef}\n            />\n          </div>\n          {Boolean(tags.length) && (\n            <TagsModal\n              tags={tags}\n              isOpen={modalIsOpen}\n              closeModal={toggleModal}\n              handleTagChange={handleTagChange}\n            />\n          )}\n        </div>\n      </div>\n    </Branding>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}